<!--
 -------------------------------------------------------------------------------
 Copyright: (c) BLS OPS LLC.
 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, version 3.
 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 GNU General Public License for more details.
 You should have received a copy of the GNU General Public License
 along with this program. If not, see <https://www.gnu.org/licenses/>.
 -------------------------------------------------------------------------------
-->

# Azure Function Application Exploitation

## Tags
<details><summary>Tags</summary><p>

`#@Azure #@AAD #@Token #@AccessToken #@RefreshToken #@Refresh #@Access #@Function #@Application`

</details>

- Function App (also called Azure Functions) is Azure's 'serverless' solution to run code
- Languages like C#, Java, PowerShell, Python and more are supported
- A Function App is supposed to be used to react to an event like:
    + HTTP Trigger
    + Processing a file upload
    + Run code on scheduled time and more
- App service provides the hosting infrastructure for function apps

## Function App Managed Identities

- Managed Identity
    + Azure provides ability to assign Managed Identities to resources like app service, function apps, VMs, etc.
    + Managed Identity uses Azure AD tokens to access other resources (like key vaults, storage accounts) that support Azure AD authentication
    + It is a service principal of special type that can be used with Azure resources
    + Managed Identity can be system-assigned (tied to a resource and cannot be shared with other resources) or user-assigned (independent life cycle and can be shared across resources)

## Continuous Deployment

- Function Apps (Azure Functions) support continuous deployment
- In case continuous deployment is used, a source code update triggers a deployment to Azure
- Following source code locations are supported
    + Azure Repos
    + GitHub
    + Bitbucket
- Deployment slots are supported so that deployments are first done in slots like staging (to avoid deploying directly in the default production slot)